<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Helvetic AI Chatbot</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* EmpÃªche la page dâ€™avoir une scrollbar */
    html, body {
      height: 100%;
      margin: 0;
      overflow: hidden;
    }

    /* Le chatbot occupe tout lâ€™Ã©cran */
    #chatbot-window {
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Zone des messages avec scroll */
    #chatbot-messages {
      overflow-y: auto;
      scrollbar-gutter: stable;
      -webkit-overflow-scrolling: touch;
    }

    /* Scrollbar personnalisÃ©e (WebKit : Chrome, Edge, Safari) */
    #chatbot-messages::-webkit-scrollbar {
      width: 8px;
    }
    #chatbot-messages::-webkit-scrollbar-track {
      background: transparent;
    }
    #chatbot-messages::-webkit-scrollbar-thumb {
      background-color: #9ca3af;
      border-radius: 10px;
    }
    #chatbot-messages::-webkit-scrollbar-thumb:hover {
      background-color: #6b7280;
    }

    /* Scrollbar Firefox */
    #chatbot-messages {
      scrollbar-width: thin;
      scrollbar-color: #9ca3af transparent;
    }

    /* Texte coupÃ© avec bouton Lire plus */
    .line-clamp-5 {
      display: -webkit-box;
      -webkit-line-clamp: 5;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* Fond montagne */
    .chat-background {
      background: url("https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=1600&q=80") no-repeat center center;
      background-size: cover;
      position: relative;
    }
    .chat-background::before {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255,255,255,0.6);
      backdrop-filter: blur(3px);
      z-index: 0;
    }
    #chatbot-messages > div { position: relative; z-index: 1; }
  </style>
</head>
<body>
  <div id="chatbot-window" class="w-full h-screen flex flex-col relative overflow-hidden">

    <!-- Header -->
    <div class="bg-red-600 text-white flex justify-between items-center p-4 shadow-2xl relative z-10">
      <div class="flex items-center space-x-2 sm:space-x-4">
        <img src="Switzerland.svg" alt="Drapeau Suisse" class="w-7 h-7 rounded-sm shadow-md" />
        <div class="min-w-0 flex-1">
          <span class="font-bold text-base sm:text-lg">Helvetic AI</span>
        </div>
      </div>
      <div>
        <select id="lang-select" class="text-gray-800 rounded-lg px-3 py-2 text-xs sm:text-sm font-medium appearance-none pr-6 sm:pr-8 focus:outline-none focus:ring-2 focus:ring-white/50">
          <option value="fr">ğŸ‡«ğŸ‡· FR</option>
          <option value="en">ğŸ‡¬ğŸ‡§ EN</option>
          <option value="de">ğŸ‡©ğŸ‡ª DE</option>
        </select>
      </div>
    </div>

    <!-- Messages -->
    <div id="chatbot-messages" class="flex-1 p-4 sm:p-6 space-y-3 sm:space-y-4 chat-background"></div>

    <!-- Questions rapides -->
    <div class="border-t border-gray-200 bg-white/80 backdrop-blur-sm p-4 sm:p-6">
      <div class="text-xs sm:text-sm font-semibold text-gray-700 mb-3 sm:mb-4 flex items-center">
        <svg class="w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        Questions rapides :
      </div>
      <div id="questions-container" class="space-y-2 sm:space-y-3"></div>
      <button id="toggle-questions" class="mt-2 text-indigo-600 text-xs underline">Voir plus</button>
    </div>

    <!-- Input -->
    <div class="border-t border-gray-300 bg-white p-3 flex items-center space-x-2">
      <input id="user-input" type="text" placeholder="Posez votre question..." class="flex-1 p-2 border rounded-lg text-sm"/>
      <button onclick="handleUserInput()" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">Envoyer</button>
    </div>
  </div>

  <script>
    const quickQuestions = {
      fr: ["Qu'est-ce que l'IA en finance ?", "Quels sont les avantages de l'IA pour l'EPM ?", "Comment intÃ©grer l'IA dans mon systÃ¨me ?", "Helvetic AI garantit-elle la sÃ©curitÃ© des donnÃ©es ?", "Puis-je demander une dÃ©mo ?"],
      en: ["What is AI in finance?", "What are the benefits of AI for EPM?", "How to integrate AI into my system?", "Does Helvetic AI ensure data security?", "Can I request a demo?"],
      de: ["Was ist KI im Finanzwesen?", "Was sind die Vorteile von KI fÃ¼r EPM?", "Wie integriere ich KI in mein System?", "Garantiert Helvetic AI Datensicherheit?", "Kann ich eine Demo anfordern?"]
    };

    const translations = {
      fr: {
        welcome: `âœ¨ Helvetic AI â€“ Lâ€™intelligence artificielle au service de la performance financiÃ¨re âœ¨

Helvetic AI accompagne les directions financiÃ¨res dans leur transformation digitale.
Notre ambition : mettre la puissance de lâ€™intelligence artificielle et de lâ€™Enterprise Performance Management (EPM) au service des dÃ©cideurs, pour transformer la donnÃ©e en vÃ©ritable levier stratÃ©gique.

ğŸ”¹ Une expertise unique : rigueur suisse + approche pragmatique et orientÃ©e rÃ©sultats.
ğŸ”¹ Des solutions concrÃ¨tes : automatisation des processus, analyse prÃ©dictive, optimisation budgÃ©taire, pilotage de la performance.
ğŸ”¹ Un engagement fort : fiabilitÃ© opÃ©rationnelle, innovation maÃ®trisÃ©e, conformitÃ© rÃ©glementaire.

ğŸ‘‰ Avec Helvetic AI, la performance financiÃ¨re devient plus intelligente, plus rapide et plus sÃ»re.`,
        readMore: "Lire plus", readLess: "Lire moins"
      },
      en: {
        welcome: `âœ¨ Helvetic AI â€“ Artificial Intelligence at the service of financial performance âœ¨

Helvetic AI supports CFOs in their digital transformation, turning data into a real strategic lever through AI and EPM.

ğŸ”¹ Unique expertise: Swiss precision combined with pragmatic, results-oriented methods.
ğŸ”¹ Concrete solutions: automation, predictive analysis, budgeting optimization, performance management.
ğŸ”¹ Strong commitment: operational reliability, controlled innovation, full compliance.

ğŸ‘‰ With Helvetic AI, financial performance becomes smarter, faster and safer.`,
        readMore: "Read more", readLess: "Read less"
      },
      de: {
        welcome: `âœ¨ Helvetic AI â€“ KÃ¼nstliche Intelligenz im Dienste der Finanzperformance âœ¨

Helvetic AI begleitet Finanzdirektionen bei der digitalen Transformation und macht Daten dank KI und EPM zu einem echten strategischen Hebel.

ğŸ”¹ Einzigartige Expertise: Schweizer PrÃ¤zision + pragmatische, ergebnisorientierte AnsÃ¤tze.
ğŸ”¹ Konkrete LÃ¶sungen: Automatisierung, prÃ¤diktive Analysen, Budgetoptimierung, Performance-Steuerung.
ğŸ”¹ Starkes Engagement: operative ZuverlÃ¤ssigkeit, kontrollierte Innovation, volle Compliance.

ğŸ‘‰ Mit Helvetic AI wird die Finanzperformance intelligenter, schneller und sicherer.`,
        readMore: "Mehr lesen", readLess: "Weniger lesen"
      }
    };

    let currentLang = "fr", conversationHistory = [];
    let showAllQuestions = false;

    function addMessage(text, sender="bot", collapsible=false) {
      const wrapper = document.createElement("div");
      wrapper.className = sender === "user" ? "text-right" : "text-left";

      const bubble = document.createElement("div");
      bubble.className = sender === "user"
        ? "inline-block px-4 py-3 rounded-2xl max-w-xs lg:max-w-md text-sm font-medium bg-red-600 text-white"
        : "inline-block px-4 py-3 rounded-2xl max-w-xs lg:max-w-md text-sm font-medium bg-white/90 text-gray-800 whitespace-pre-line";

      if (collapsible) {
        bubble.innerHTML = `
          <div class="line-clamp-5" id="msg-${conversationHistory.length}">${text}</div>
          <button class="mt-2 text-indigo-600 text-xs underline toggle-btn">${translations[currentLang].readMore}</button>
        `;
        setTimeout(() => {
          const btn = bubble.querySelector(".toggle-btn");
          const content = bubble.querySelector(`#msg-${conversationHistory.length}`);
          btn.addEventListener("click", () => {
            if (content.classList.contains("line-clamp-5")) {
              content.classList.remove("line-clamp-5");
              btn.textContent = translations[currentLang].readLess;
            } else {
              content.classList.add("line-clamp-5");
              btn.textContent = translations[currentLang].readMore;
            }
          });
        }, 50);
      } else {
        bubble.textContent = text;
      }

      wrapper.appendChild(bubble);
      document.getElementById("chatbot-messages").appendChild(wrapper);
      document.getElementById("chatbot-messages").scrollTop = document.getElementById("chatbot-messages").scrollHeight;
      conversationHistory.push({sender, text, time: new Date().toISOString()});
    }

    function handleUserInput() {
      const input = document.getElementById("user-input");
      const question = input.value.trim();
      if (!question) return;

      addMessage(question, "user");
      input.value = "";

      setTimeout(() => {
        const answer = "DÃ©solÃ©, je nâ€™ai pas encore de rÃ©ponse pour Ã§a.";
        addMessage(answer, "bot");
      }, 800);
    }

    function updateQuickQuestions() {
      const container = document.getElementById("questions-container");
      container.innerHTML = "";
      const list = showAllQuestions ? quickQuestions[currentLang] : quickQuestions[currentLang].slice(0,3);

      list.forEach(q => {
        const btn = document.createElement("button");
        btn.className = "question-btn w-full text-left p-3 rounded-xl text-sm font-medium text-gray-700 bg-white/70 hover:bg-white";
        btn.textContent = q;
        btn.onclick = () => {
          addMessage(q, "user");
          setTimeout(() => addMessage("RÃ©ponse bientÃ´t disponible.", "bot"), 800);
        };
        container.appendChild(btn);
      });

      document.getElementById("toggle-questions").textContent = showAllQuestions
        ? (currentLang === "fr" ? "Voir moins" : currentLang === "en" ? "Show less" : "Weniger anzeigen")
        : (currentLang === "fr" ? "Voir plus" : currentLang === "en" ? "Show more" : "Mehr anzeigen");
    }

    document.addEventListener("DOMContentLoaded", () => {
      addMessage(translations[currentLang].welcome, "bot", true);
      updateQuickQuestions();

      document.getElementById("toggle-questions").addEventListener("click", () => {
        showAllQuestions = !showAllQuestions;
        updateQuickQuestions();
      });
    });

    document.getElementById("lang-select").addEventListener("change", e => {
      currentLang = e.target.value;
      document.getElementById("chatbot-messages").innerHTML = "";
      conversationHistory = [];
      addMessage(translations[currentLang].welcome, "bot", true);
      updateQuickQuestions();
    });
  </script>
</body>
</html>
