<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Helvetic AI Chatbot</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
  
  * {
    font-family: 'Inter', sans-serif;
  }

  #questions-container {
    max-height: 200px;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: #e2e8f0 transparent;
  }
  
  #questions-container::-webkit-scrollbar {
    width: 6px;
  }
  
  #questions-container::-webkit-scrollbar-track {
    background: transparent;
  }
  
  #questions-container::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #60a5fa, #3b82f6);
    border-radius: 10px;
  }

  .glass-effect {
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }
  
  .gradient-bg {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    position: relative;
    overflow: hidden;
  }
  
  .gradient-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
    animation: shimmer 3s infinite;
  }
  
  @keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
  }
  
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #e2e8f0 #f8fafc;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: #f8fafc;
    border-radius: 10px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #60a5fa, #3b82f6);
    border-radius: 10px;
    border: 2px solid #f8fafc;
  }
  
  .typing-indicator {
    display: flex;
    padding: 12px 20px;
    background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
    border-radius: 20px;
    width: fit-content;
    margin: 8px 0;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  }
  
  .typing-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: linear-gradient(45deg, #6366f1, #8b5cf6);
    animation: typing 1.6s infinite;
    margin-right: 6px;
  }
  
  .typing-dot:nth-child(2) { animation-delay: 0.2s; }
  .typing-dot:nth-child(3) { animation-delay: 0.4s; margin-right: 0; }
  
  @keyframes typing {
    0%, 60%, 100% { 
      transform: translateY(0) scale(1); 
      opacity: 0.4; 
    }
    30% { 
      transform: translateY(-12px) scale(1.1); 
      opacity: 1; 
    }
  }
  
  .message-fade-in {
    animation: fadeInUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  
  @keyframes fadeInUp {
    from { 
      opacity: 0; 
      transform: translateY(20px) scale(0.95); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0) scale(1); 
    }
  }
  
  .question-btn {
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    border: 1px solid transparent;
    background: linear-gradient(135deg, #ffffff, #f8fafc);
    position: relative;
    overflow: hidden;
  }
  
  .question-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
    transition: left 0.6s ease;
  }
  
  .question-btn:hover::before {
    left: 100%;
  }
  
  .question-btn:hover {
    border-color: #6366f1;
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 8px 25px rgba(99, 102, 241, 0.15);
    background: linear-gradient(135deg, #ffffff, #f0f9ff);
  }
  
  .toggle-btn {
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    border-radius: 25px;
    position: relative;
    overflow: hidden;
  }
  
  .toggle-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 0.3s ease, height 0.3s ease;
  }
  
  .toggle-btn:hover::before {
    width: 300px;
    height: 300px;
  }
  
  .toggle-btn:hover {
    transform: translateY(-1px) scale(1.05);
    box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
  }
  
  .message-bubble-bot {
    background: linear-gradient(135deg, #ffffff, #f8fafc);
    border: 1px solid #e2e8f0;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    position: relative;
  }
  
  .message-bubble-bot::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    background: linear-gradient(135deg, #6366f1, #8b5cf6, #ec4899);
    border-radius: inherit;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .message-bubble-user {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    box-shadow: 0 4px 20px rgba(99, 102, 241, 0.3);
    position: relative;
    overflow: hidden;
  }
  
  .message-bubble-user::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    animation: messageShimmer 2s infinite;
  }
  
  @keyframes messageShimmer {
    0% { left: -100%; }
    100% { left: 100%; }
  }
  
  .logo-container {
    background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.3);
    transition: all 0.3s ease;
  }
  
  .logo-container:hover {
    transform: rotate(5deg) scale(1.1);
    box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);
  }
  
  .status-pulse {
    position: relative;
  }
  
  .status-pulse::before {
    content: '';
    position: absolute;
    top: 50%;
    left: -8px;
    width: 8px;
    height: 8px;
    background: #10b981;
    border-radius: 50%;
    transform: translateY(-50%);
    animation: pulse 2s infinite;
  }
  
  @keyframes pulse {
    0% {
      transform: translateY(-50%) scale(1);
      opacity: 1;
    }
    50% {
      transform: translateY(-50%) scale(1.2);
      opacity: 0.7;
    }
    100% {
      transform: translateY(-50%) scale(1);
      opacity: 1;
    }
  }
  
  .lang-select {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    transition: all 0.3s ease;
  }
  
  .lang-select:hover {
    background: rgba(255, 255, 255, 1);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }
  
  .close-btn {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
  }
  
  .close-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: rotate(90deg) scale(1.1);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  }
  
  .chat-background {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    position: relative;
  }
  
  .chat-background::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.05) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
    pointer-events: none;
  }
</style>
</head>
<body>

<!-- FenÃªtre du chatbot -->
<div id="chatbot-window" class="w-full h-screen glass-effect flex flex-col relative overflow-hidden">
  <!-- Header -->
  <div class="gradient-bg text-white flex justify-between items-center p-4 shadow-2xl relative z-10">
    <div class="flex items-center space-x-4">
      <div class="logo-container w-10 h-10 rounded-full flex items-center justify-center overflow-hidden">
        <svg width="24" height="24" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
          <rect width="32" height="32" fill="#FF0000" rx="4"/>
          <rect x="6" y="13" width="20" height="6" fill="#FFFFFF" rx="1"/>
          <rect x="13" y="6" width="6" height="20" fill="#FFFFFF" rx="1"/>
        </svg>
      </div>
      <div>
        <span class="font-bold text-lg">Helvetic AI</span>
        <div class="text-sm opacity-90 status-pulse pl-3" id="status-indicator">En ligne</div>
      </div>
    </div>
    <div class="flex items-center space-x-3">
      <div class="relative">
        <select id="lang-select" class="lang-select text-gray-800 rounded-lg px-4 py-2 text-sm font-medium appearance-none pr-8 focus:outline-none focus:ring-2 focus:ring-white/50">
          <option value="fr">ðŸ‡«ðŸ‡· FranÃ§ais</option>
          <option value="en">ðŸ‡¬ðŸ‡§ English</option>
          <option value="de">ðŸ‡©ðŸ‡ª Deutsch</option>
        </select>
        <div class="absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none">
          <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </div>
      </div>
      <button onclick="parent.closeChatbot()" class="close-btn w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold">
        Ã—
      </button>
    </div>
  </div>

  <!-- Messages -->
  <div id="chatbot-messages" class="flex-1 overflow-y-auto p-6 space-y-4 scrollbar-thin chat-background"></div>

  <!-- Questions rapides -->
  <div class="border-t border-gray-200 bg-white/80 backdrop-blur-sm p-6">
    <div class="text-sm font-semibold text-gray-700 mb-4 flex items-center" id="questions-title">
      <svg class="w-4 h-4 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      Questions rapides :
    </div>
    <div id="questions-container" class="space-y-3"></div>
  </div>
</div>

<!-- Scripts -->
<script>
const quickQuestions = {
  fr: [
    "Qu'est-ce que l'IA en finance ?",
    "Quels sont les avantages de l'IA pour l'EPM ?",
    "Comment intÃ©grer l'IA dans mon systÃ¨me ?",
    "Quel est le ROI de l'IA en finance ?",
    "Quelles technologies IA utilisez-vous ?",
    "Combien coÃ»te une implÃ©mentation IA ?",
    "L'IA peut-elle amÃ©liorer mes prÃ©visions ?",
    "Comment assurer la sÃ©curitÃ© des donnÃ©es ?"
  ],
  en: [
    "What is AI in finance?",
    "What are the benefits of AI for EPM?",
    "How to integrate AI in my system?",
    "What is the ROI of AI in finance?",
    "What AI technologies do you use?",
    "How much does AI implementation cost?",
    "Can AI improve my forecasts?",
    "How to ensure data security?"
  ],
  de: [
    "Was ist KI im Finanzwesen?",
    "Was sind die Vorteile von KI fÃ¼r EPM?",
    "Wie integriere ich KI in mein System?",
    "Was ist der ROI von KI im Finanzwesen?",
    "Welche KI-Technologien verwenden Sie?",
    "Wie viel kostet eine KI-Implementierung?",
    "Kann KI meine Prognosen verbessern?",
    "Wie stelle ich Datensicherheit sicher?"
  ]
};

const translations = {
  fr: {
    typing: "En train d'Ã©crire...",
    online: "En ligne",
    questionsTitle: "Questions rapides :",
    seeMore: "Voir plus",
    seeLess: "Voir moins",
    welcome: "Bonjour ! Je suis votre assistant IA Helvetic. Choisissez une question ci-dessous pour commencer."
  },
  en: {
    typing: "Typing...",
    online: "Online",
    questionsTitle: "Quick questions:",
    seeMore: "See more",
    seeLess: "See less",
    welcome: "Hello! I'm your Helvetic AI assistant. Choose a question below to get started."
  },
  de: {
    typing: "Schreibt...",
    online: "Online",
    questionsTitle: "Schnellfragen:",
    seeMore: "Mehr anzeigen",
    seeLess: "Weniger anzeigen",
    welcome: "Hallo! Ich bin Ihr Helvetic AI Assistent. WÃ¤hlen Sie eine Frage unten aus, um zu beginnen."
  }
};

const messagesContainer = document.getElementById("chatbot-messages");
const questionsContainer = document.getElementById("questions-container");
const questionsTitle = document.getElementById("questions-title");

let currentLang = "fr";
let isTyping = false;
let expanded = false;

function addMessage(text, sender = "bot", animate = true) {
  const msg = document.createElement("div");
  msg.className = `${sender === "user" ? "text-right" : "text-left"} ${animate ? "message-fade-in" : ""}`;
  
  const bubble = document.createElement("div");
  bubble.className = `inline-block px-6 py-4 rounded-2xl max-w-xs lg:max-w-md text-sm font-medium ${
    sender === "user" 
      ? 'message-bubble-user text-white' 
      : 'message-bubble-bot text-gray-800'
  }`;
  bubble.style.whiteSpace = "pre-wrap";
  bubble.textContent = text;
  msg.appendChild(bubble);
  messagesContainer.appendChild(msg);
  messagesContainer.scrollTop = messagesContainer.scrollHeight;
}

function updateQuickQuestions() {
  questionsContainer.innerHTML = "";
  questionsTitle.innerHTML = `
    <svg class="w-4 h-4 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
    </svg>
    ${translations[currentLang].questionsTitle}
  `;

  const questions = quickQuestions[currentLang];
  const visibleCount = expanded ? questions.length : 3;
  const visibleQuestions = questions.slice(0, visibleCount);

  visibleQuestions.forEach((question, index) => {
    const button = document.createElement("button");
    button.className = "question-btn w-full text-left p-4 rounded-xl text-sm font-medium text-gray-700 relative";
    button.textContent = question;
    button.onclick = () => {
      addMessage(question, "user");
      setTimeout(() => {
        addMessage("Merci pour votre question ! Notre Ã©quipe d'experts IA vous rÃ©pondra dans les plus brefs dÃ©lais avec une solution personnalisÃ©e.", "bot");
      }, 1000);
    };
    
    // Animation d'apparition dÃ©calÃ©e
    setTimeout(() => {
      button.style.opacity = '0';
      button.style.transform = 'translateY(20px)';
      questionsContainer.appendChild(button);
      
      setTimeout(() => {
        button.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        button.style.opacity = '1';
        button.style.transform = 'translateY(0)';
      }, 50);
    }, index * 100);
  });

  if (questions.length > 3) {
    const toggleButton = document.createElement("button");
    toggleButton.className = "toggle-btn w-full p-3 text-center text-sm font-semibold mt-2 relative z-10";
    toggleButton.textContent = expanded
      ? translations[currentLang].seeLess
      : translations[currentLang].seeMore;

    toggleButton.addEventListener("click", () => {
      expanded = !expanded;
      updateQuickQuestions();
    });

    setTimeout(() => {
      questionsContainer.appendChild(toggleButton);
    }, visibleQuestions.length * 100 + 200);
  }
}

// Effet de frappe pour le message d'accueil
function typeMessage(text, callback) {
  const tempMsg = document.createElement("div");
  tempMsg.className = "text-left";
  
  const bubble = document.createElement("div");
  bubble.className = "inline-block px-6 py-4 rounded-2xl max-w-xs lg:max-w-md text-sm font-medium message-bubble-bot text-gray-800";
  tempMsg.appendChild(bubble);
  messagesContainer.appendChild(tempMsg);

  let index = 0;
  const interval = setInterval(() => {
    bubble.textContent = text.substring(0, index + 1);
    index++;
    
    if (index >= text.length) {
      clearInterval(interval);
      if (callback) callback();
    }
    
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }, 30);
}

document.addEventListener("DOMContentLoaded", () => {
  typeMessage(translations[currentLang].welcome, () => {
    updateQuickQuestions();
  });
});

// Gestion du changement de langue
document.getElementById("lang-select").addEventListener("change", (e) => {
  currentLang = e.target.value;
  document.getElementById("status-indicator").textContent = translations[currentLang].online;
  updateQuickQuestions();
});
</script>
</body>
</html>
