<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Helvitic AI - Chatbot</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .gradient-bg { background: linear-gradient(135deg,#667eea 0%,#764ba2 100%); }
    .glass-effect { backdrop-filter: blur(10px); background: rgba(255,255,255,0.9); }
    .message-user { background: linear-gradient(135deg,#3b82f6,#1d4ed8); color:white; }
    .message-bot { background: #f3f4f6; border:1px solid #d1d5db; }
    .scrollbar-thin::-webkit-scrollbar { width:4px; }
    .scrollbar-thin::-webkit-scrollbar-thumb { background:#cbd5e1; border-radius:2px; }
  </style>
</head>
<body class="bg-gray-50">

<!-- FenÃªtre du chatbot -->
<div id="chatbot-window" class="w-full h-screen glass-effect flex flex-col">
  
  <!-- Header avec sÃ©lecteur de langue -->
  <div class="gradient-bg text-white flex justify-between items-center p-4">
    <span class="font-bold">Helvitic AI</span>
    <select id="lang-select" class="text-black rounded px-2 py-1">
      <option value="fr">ðŸ‡«ðŸ‡· FR</option>
      <option value="en">ðŸ‡¬ðŸ‡§ EN</option>
      <option value="de">ðŸ‡©ðŸ‡ª DE</option>
    </select>
  </div>

  <!-- Messages -->
  <div id="chatbot-messages" class="flex-1 overflow-y-auto p-4 space-y-3 scrollbar-thin"></div>

  <!-- Formulaire -->
  <form id="bot-form" class="border-t border-gray-200 p-3 flex">
    <input id="bot-input" type="text" placeholder="Ã‰crivez ici..." 
           class="flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
    <button class="ml-2 px-4 bg-blue-600 text-white rounded-lg">Envoyer</button>
  </form>
</div>

<script>
/* === RÃ©ponses multilingues === */
const responses = {
  fr: { 
    welcome:"Bonjour ðŸ‘‹ Je suis le chatbot Helvitic AI. Posez-moi vos questions.",
    greeting:"Bonjour! Comment puis-je vous aider ?",
    services:"Nous offrons des solutions IA pour la gestion financiÃ¨re, lâ€™optimisation et la formation.",
    contact:"Vous pouvez nous contacter via email : helviticaich@gmail.com.",
    goodbye:"Merci pour votre visite ! Ã€ bientÃ´t ðŸ‘‹",
    unknown:"DÃ©solÃ©, je n'ai pas compris. Pouvez-vous prÃ©ciser ?" 
  },
  en: {
    welcome:"Hello ðŸ‘‹ I'm the Helvitic AI chatbot. Ask me anything.",
    greeting:"Hello! How can I help?",
    services:"We provide AI solutions for financial management, optimization, and training.",
    contact:"You can reach us via email: helviticaich@gmail.com.",
    goodbye:"Thank you for visiting! See you soon ðŸ‘‹",
    unknown:"Sorry, I didn't understand. Could you clarify?"
  },
  de: {
    welcome:"Hallo ðŸ‘‹ Ich bin der Helvitic AI Chatbot. Stellen Sie mir Ihre Fragen.",
    greeting:"Hallo! Wie kann ich Ihnen helfen?",
    services:"Wir bieten KI-LÃ¶sungen fÃ¼r Finanzmanagement, Optimierung und Schulungen.",
    contact:"Sie erreichen uns per E-Mail: helviticaich@gmail.com.",
    goodbye:"Danke fÃ¼r Ihren Besuch! Bis bald ðŸ‘‹",
    unknown:"Entschuldigung, das habe ich nicht verstanden. KÃ¶nnen Sie das bitte prÃ¤zisieren?"
  }
};

let currentLang = "fr"; // langue par dÃ©faut

// SÃ©lecteurs
const botForm = document.getElementById("bot-form");
const botInput = document.getElementById("bot-input");
const botMessages = document.getElementById("chatbot-messages");
const langSelect = document.getElementById("lang-select");

// Fonction affichage message
function addMessage(sender, text) {
  const div = document.createElement("div");
  div.className = sender === "bot" 
    ? "message-bot px-3 py-2 rounded-lg" 
    : "message-user px-3 py-2 rounded-lg text-right";
  div.innerHTML = `<strong>${sender==="bot"?"Bot":"Vous"}:</strong> ${text}`;
  botMessages.appendChild(div);
  botMessages.scrollTop = botMessages.scrollHeight;
}

// Message de bienvenue
function showWelcomeMessage() {
  botMessages.innerHTML = "";
  addMessage("bot", responses[currentLang].welcome);
}

// RÃ©ponses
botForm.addEventListener("submit", (e) => {
  e.preventDefault();
  const msg = botInput.value.trim().toLowerCase();
  if (!msg) return;
  addMessage("user", msg);
  botInput.value = "";

  let reply = responses[currentLang].unknown;
  if (msg.includes("bonjour")||msg.includes("hello")||msg.includes("hallo")) reply = responses[currentLang].greeting;
  else if (msg.includes("service")) reply = responses[currentLang].services;
  else if (msg.includes("contact")) reply = responses[currentLang].contact;
  else if (msg.includes("bye")||msg.includes("au revoir")||msg.includes("tschÃ¼ss")) reply = responses[currentLang].goodbye;

  addMessage("bot", reply);
});

// Changement de langue
langSelect.addEventListener("change", () => {
  currentLang = langSelect.value;
  showWelcomeMessage();
});

// Lancer avec message dâ€™accueil
showWelcomeMessage();
</script>
</body>
</html>
