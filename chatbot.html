<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Helvitic AI - Chatbot</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* === Animations & Styles === */
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 0 0 rgba(59,130,246,0.7); }
      50% { box-shadow: 0 0 0 10px rgba(59,130,246,0); }
    }
    .pulse-glow { animation: pulse-glow 2s infinite; }
    @keyframes slideUp { from {transform:translateY(20px);opacity:0;} to {transform:translateY(0);opacity:1;} }
    .slide-up { animation: slideUp 0.3s ease-out; }
    .gradient-bg { background: linear-gradient(135deg,#667eea 0%,#764ba2 100%); }
    .glass-effect { backdrop-filter: blur(10px); background: rgba(255,255,255,0.9); }
    .message-user { background: linear-gradient(135deg,#3b82f6,#1d4ed8); color:white; align-self:flex-end; }
    .message-bot { background: #f3f4f6; border:1px solid #d1d5db; align-self:flex-start; }
    .scrollbar-thin::-webkit-scrollbar { width:4px; }
    .scrollbar-thin::-webkit-scrollbar-thumb { background:#cbd5e1; border-radius:2px; }
  </style>
</head>
<body class="bg-gray-50">

<!-- === Container === -->
<div id="chatbot-container" class="fixed bottom-5 right-5 z-50">
  <!-- Bouton flottant -->
  <button id="chatbot-toggle" class="w-16 h-16 rounded-full gradient-bg flex items-center justify-center shadow-2xl hover:scale-110 transition-all duration-300 pulse-glow">
    ü§ñ
  </button>

  <!-- Fen√™tre -->
  <div id="chatbot-window" class="hidden absolute bottom-20 right-0 w-96 h-[500px] glass-effect rounded-3xl shadow-2xl flex flex-col border border-white/20">
    <!-- Header -->
    <div class="gradient-bg text-white flex justify-between items-center p-4 rounded-t-3xl">
      <span class="font-bold">Helvitic AI</span>
      <div class="flex space-x-2">
        <button id="lang-btn" class="bg-white/20 px-2 py-1 rounded text-sm">üåç</button>
        <button id="chatbot-close" class="text-lg">‚úï</button>
      </div>
    </div>

    <!-- Messages -->
    <div id="chatbot-messages" class="flex-1 overflow-y-auto p-4 space-y-3 scrollbar-thin flex flex-col"></div>

    <!-- Formulaire -->
    <form id="bot-form" class="border-t border-gray-200 p-3 flex">
      <input id="bot-input" type="text" placeholder="√âcrivez ici..." 
             class="flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      <button type="submit" class="ml-2 px-4 bg-blue-600 text-white rounded-lg">Envoyer</button>
    </form>
  </div>
</div>

<script>
/* === R√©ponses multilingues === */
const responses = {
  fr: {
    welcome: "Bonjour üëã Je suis le chatbot Helvitic AI. Posez-moi vos questions.",
    greeting: "Bonjour! Comment puis-je vous aider ?",
    services: "Nous offrons des solutions IA pour la gestion financi√®re, l‚Äôoptimisation et la formation.",
    contact: "Vous pouvez nous contacter via email : helviticaich@gmail.com.",
    goodbye: "Merci pour votre visite ! √Ä bient√¥t üëã",
    unknown: "D√©sol√©, je n'ai pas compris. Pouvez-vous pr√©ciser ?"
  },
  en: {
    welcome: "Hello üëã I'm the Helvitic AI chatbot. Ask me anything.",
    greeting: "Hello! How can I help?",
    services: "We provide AI solutions for financial management, optimization, and training.",
    contact: "You can reach us via email: helviticaich@gmail.com.",
    goodbye: "Thank you for visiting! See you soon üëã",
    unknown: "Sorry, I didn't understand. Could you clarify?"
  },
  de: {
    welcome: "Hallo üëã Ich bin der Helvitic AI Chatbot. Stellen Sie mir Ihre Fragen.",
    greeting: "Hallo! Wie kann ich Ihnen helfen?",
    services: "Wir bieten KI-L√∂sungen f√ºr Finanzmanagement, Optimierung und Schulungen.",
    contact: "Sie erreichen uns per E-Mail: helviticaich@gmail.com.",
    goodbye: "Danke f√ºr Ihren Besuch! Bis bald üëã",
    unknown: "Entschuldigung, das habe ich nicht verstanden. K√∂nnen Sie das bitte pr√§zisieren?"
  }
};

let currentLang = "fr"; // langue par d√©faut

// === S√©lecteurs ===
const botBtn = document.getElementById("chatbot-toggle");
const botWin = document.getElementById("chatbot-window");
const botClose = document.getElementById("chatbot-close");
const botForm = document.getElementById("bot-form");
const botInput = document.getElementById("bot-input");
const botMessages = document.getElementById("chatbot-messages");
const langBtn = document.getElementById("lang-btn");

// === Ouvrir / fermer ===
botBtn.addEventListener("click", () => {
  botWin.classList.toggle("hidden");
  if (!botWin.classList.contains("hidden")) {
    showWelcomeMessage();
  }
});
botClose.addEventListener("click", () => botWin.classList.add("hidden"));

// === Switch langue ===
langBtn.addEventListener("click", () => {
  currentLang = currentLang === "fr" ? "en" : currentLang === "en" ? "de" : "fr";
  showWelcomeMessage();
});

// === Affichage messages ===
function addMessage(sender, text) {
  const div = document.createElement("div");
  div.className = sender === "bot" 
    ? "message-bot px-3 py-2 rounded-lg max-w-[80%]" 
    : "message-user px-3 py-2 rounded-lg max-w-[80%] ml-auto text-right";
  div.innerHTML = `<strong>${sender==="bot"?"Bot":"Vous"}:</strong> ${text}`;
  botMessages.appendChild(div);
  botMessages.scrollTop = botMessages.scrollHeight;
}

// === Message de bienvenue ===
function showWelcomeMessage() {
  botMessages.innerHTML = "";
  addMessage("bot", responses[currentLang].welcome);
}

// === R√©ponses ===
botForm.addEventListener("submit", (e) => {
  e.preventDefault();
  const rawMsg = botInput.value.trim();
  const msg = rawMsg.toLowerCase();
  if (!msg) return;
  addMessage("user", rawMsg);
  botInput.value = "";

  let reply = responses[currentLang].unknown;
  if (msg.includes("bonjour")||msg.includes("hello")||msg.includes("hallo")) reply = responses[currentLang].greeting;
  else if (msg.includes("service")) reply = responses[currentLang].services;
  else if (msg.includes("contact")) reply = responses[currentLang].contact;
  else if (msg.includes("bye")||msg.includes("au revoir")||msg.includes("tsch√ºss")) reply = responses[currentLang].goodbye;

  addMessage("bot", reply);
});
</script>
</body>
</html>
