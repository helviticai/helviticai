<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chatbot Helvetic AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 h-screen flex flex-col">

  <!-- Zone de chat -->
  <div id="chat" class="flex-1 overflow-y-auto p-4 flex flex-col space-y-2"></div>

  <!-- Barre de saisie -->
  <div class="p-3 border-t bg-white flex items-center gap-2">
    <input id="userInput" 
           type="text" 
           placeholder="√âcrivez votre message..." 
           class="flex-1 border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
    <button id="sendBtn" 
            class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
      ‚û§
    </button>
  </div>

<script>
let currentLang = localStorage.getItem("helveticai_lang") || "fr"; 

// Fonction pour ajouter un message
function addMessage(text, sender="bot") {
  const chat = document.getElementById("chat");
  const msg = document.createElement("div");
  msg.className = sender === "bot" 
    ? "self-start bg-blue-100 text-gray-800 p-3 rounded-lg max-w-[80%]" 
    : "self-end bg-gray-200 text-gray-800 p-3 rounded-lg max-w-[80%]";
  msg.textContent = text;
  chat.appendChild(msg);
  chat.scrollTop = chat.scrollHeight;
}

// Messages d‚Äôintroduction
const introMessage = {
  fr: "üëã Bonjour et bienvenue chez Helvetic AI ! Nous sommes une soci√©t√© suisse sp√©cialis√©e dans l‚ÄôIA appliqu√©e √† la finance. Souhaitez-vous d√©couvrir nos solutions ?",
  en: "üëã Hello and welcome to Helvetic AI! We are a Swiss company specialized in AI applied to finance. Would you like to discover our solutions?",
  de: "üëã Hallo und willkommen bei Helvetic AI! Wir sind ein Schweizer Unternehmen, das auf KI im Finanzwesen spezialisiert ist. M√∂chten Sie unsere L√∂sungen entdecken?"
};

// Message de bienvenue
window.addEventListener("DOMContentLoaded", () => {
  addMessage(introMessage[currentLang], "bot");
});

// FAQ enrichie
const faq = {
  fr: {
    "mission": "Notre mission est de transformer la finance gr√¢ce √† l‚ÄôIA, avec des solutions fiables et utiles adapt√©es aux directions financi√®res.",
    "expertises": "Nos expertises couvrent la pr√©vision, l‚Äôautomatisation des processus, l‚Äôaide √† la d√©cision et les solutions EPM.",
    "m√©thodologie": "Nous travaillons en 3 √©tapes : analyse de vos besoins, mise en place de solutions IA adapt√©es et suivi continu.",
    "identit√©": "Notre identit√© suisse repose sur la fiabilit√©, la pr√©cision, la s√©curit√© et l‚Äôinnovation.",
    "contact": "üìß Vous pouvez nous √©crire √† contact@helveticai.ch ou nous appeler au +41 22 123 45 67."
  },
  en: {
    "mission": "Our mission is to transform finance through AI, with reliable and useful solutions tailored to finance departments.",
    "expertises": "Our expertise covers forecasting, process automation, decision support, and EPM solutions.",
    "m√©thodologie": "We work in 3 steps: analyzing your needs, implementing tailored AI solutions, and continuous monitoring.",
    "identit√©": "Our Swiss identity is based on reliability, precision, security, and innovation.",
    "contact": "üìß You can write to us at contact@helveticai.ch or call us at +41 22 123 45 67."
  },
  de: {
    "mission": "Unsere Mission ist es, Finanzen mit KI zu transformieren ‚Äì mit zuverl√§ssigen und n√ºtzlichen L√∂sungen f√ºr Finanzabteilungen.",
    "expertises": "Unsere Kompetenzen umfassen Prognosen, Prozessautomatisierung, Entscheidungsunterst√ºtzung und EPM-L√∂sungen.",
    "m√©thodologie": "Wir arbeiten in 3 Schritten: Bedarfsanalyse, Einf√ºhrung von ma√ügeschneiderten KI-L√∂sungen und kontinuierliche Betreuung.",
    "identit√©": "Unsere Schweizer Identit√§t basiert auf Zuverl√§ssigkeit, Pr√§zision, Sicherheit und Innovation.",
    "contact": "üìß Sie k√∂nnen uns unter contact@helveticai.ch schreiben oder uns unter +41 22 123 45 67 anrufen."
  }
};

// Gestion de l‚Äôenvoi
document.getElementById("sendBtn").addEventListener("click", sendMessage);
document.getElementById("userInput").addEventListener("keypress", (e) => {
  if (e.key === "Enter") sendMessage();
});

function sendMessage() {
  const input = document.getElementById("userInput");
  const text = input.value.trim();
  if (!text) return;
  addMessage(text, "user");
  input.value = "";

  const langFaq = faq[currentLang];
  let response = null;

  // V√©rifie les mots-cl√©s
  if (/mission/i.test(text)) response = langFaq["mission"];
  if (/expertise|solution/i.test(text)) response = langFaq["expertises"];
  if (/method/i.test(text) || /m√©thodologie/i.test(text)) response = langFaq["m√©thodologie"];
  if (/identit√©|identity/i.test(text)) response = langFaq["identit√©"];
  if (/contact|email|t√©l√©phone/i.test(text)) response = langFaq["contact"];

  // R√©ponse
  if (response) {
    setTimeout(() => addMessage(response, "bot"), 500);
  } else {
    setTimeout(() => addMessage("ü§ñ Je note votre question, un conseiller vous r√©pondra bient√¥t.", "bot"), 500);
  }
}
</script>

</body>
</html>
